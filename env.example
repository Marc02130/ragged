# RAG Application Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Supabase Project URL (found in your Supabase dashboard)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anon Key (public key for client-side operations)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Supabase Service Role Key (private key for server-side operations)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# Supabase Database URL (for direct database connections)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI API Key (for embeddings and completions)
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Organization ID (optional, for team usage)
OPENAI_ORG_ID=org-your-organization-id-here

# OpenAI Model Configuration
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
OPENAI_COMPLETION_MODEL=gpt-4
OPENAI_FALLBACK_MODEL=gpt-3.5-turbo

# OpenAI API Configuration
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7
OPENAI_REQUEST_TIMEOUT=30000

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application Environment
NODE_ENV=development
NEXT_PUBLIC_APP_ENV=development

# Application URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Application Name
NEXT_PUBLIC_APP_NAME=RAGged

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# File Upload Limits
MAX_FILE_SIZE=10485760  # 10MB in bytes
MAX_FILES_PER_THREAD=20
MAX_TOTAL_SIZE_PER_THREAD=52428800  # 50MB in bytes
MAX_TOTAL_SIZE_PER_USER=1073741824  # 1GB in bytes

# Supported File Types
SUPPORTED_FILE_TYPES=application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain,application/rtf

# =============================================================================
# VECTORIZATION CONFIGURATION
# =============================================================================

# Document Chunking Settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_CHUNKS_PER_DOCUMENT=1000

# Vector Search Configuration
VECTOR_SIMILARITY_THRESHOLD=0.7
MAX_VECTOR_RESULTS=10
VECTOR_DIMENSION=1536

# Chat Vectorization Settings
CHAT_CHUNK_SIZE=5
CHAT_VECTORIZATION_INTERVAL=300000  # 5 minutes in milliseconds

# =============================================================================
# PERFORMANCE & CACHING
# =============================================================================

# Cache Configuration (optional)
CACHE_TTL=3600  # 1 hour in seconds
QUERY_CACHE_TTL=1800  # 30 minutes for query results
VECTOR_CACHE_TTL=7200  # 2 hours for vector search results

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=3600  # 1 hour in seconds
JWT_REFRESH_EXPIRES_IN=604800  # 7 days in seconds

# Session Configuration
SESSION_SECRET=your-session-secret-key-here
SESSION_MAX_AGE=86400  # 24 hours in seconds

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,https://your-domain.com

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Error Tracking (optional)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Supabase Storage Buckets
STORAGE_DOCUMENTS_BUCKET=documents
STORAGE_ARCHIVES_BUCKET=archives
STORAGE_TEMP_BUCKET=temp

# Storage Path Configuration
STORAGE_USER_PATH_PREFIX=users
STORAGE_THREAD_PATH_PREFIX=threads
STORAGE_ARCHIVE_PATH_PREFIX=archives

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# Database Timeout
DB_QUERY_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# =============================================================================
# EDGE FUNCTIONS CONFIGURATION
# =============================================================================

# Edge Function Timeouts
EDGE_FUNCTION_TIMEOUT=60000  # 60 seconds
EDGE_FUNCTION_MEMORY=1024    # 1024MB

# Edge Function URLs (auto-generated by Supabase)
NEXT_PUBLIC_EDGE_FUNCTION_URL=https://your-project-id.supabase.co/functions/v1

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Test Configuration
TEST_DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres_test
TEST_SUPABASE_URL=https://your-test-project-id.supabase.co
TEST_SUPABASE_ANON_KEY=your-test-supabase-anon-key-here

# Development Tools
NEXT_PUBLIC_ENABLE_DEBUG=true
NEXT_PUBLIC_ENABLE_LOGGING=true

# =============================================================================
# DATA RETENTION
# =============================================================================

# Data Retention Settings
DATA_RETENTION_DAYS=365
ARCHIVE_RETENTION_DAYS=730  # 2 years for archived conversations

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_CHAT_VECTORIZATION=true
ENABLE_FILE_VALIDATION=true

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Build Configuration
NEXT_PUBLIC_BUILD_ID=your-build-id
NEXT_PUBLIC_VERSION=1.0.0

# =============================================================================
# NOTES
# =============================================================================

# IMPORTANT: Never commit your actual .env file to version control
# This file contains sensitive information like API keys and secrets
# 
# To use this file:
# 1. Copy this file to .env
# 2. Replace all placeholder values with your actual credentials
# 3. Ensure .env is in your .gitignore file
# 4. Set up different .env files for different environments (dev, staging, prod)
#
# For production deployment:
# - Use environment variables provided by your hosting platform
# - Never expose sensitive keys in client-side code
# - Use secure secret management services
# - Regularly rotate API keys and secrets
#
# This configuration is designed for individual user RAG applications
# with focus on core functionality: document upload, vectorization, and chat queries 